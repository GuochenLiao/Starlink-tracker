{"ast":null,"code":"import _toConsumableArray from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/src/components/Main.js\";\nimport React, { Component } from \"react\";\nimport { Row, Col } from \"antd\";\nimport SatSetting from \"./SatSetting\";\nimport SatelliteList from \"./SatelliteList\";\nimport WorldMap from \"./WorldMap\";\nimport axios from \"axios\";\nimport { SAT_API_KEY, STARLINK_CATEGORY, NEARBY_SATELLITE, BASE_URL } from \"../constants\";\n\nvar Main = /*#__PURE__*/function (_Component) {\n  _inherits(Main, _Component);\n\n  function Main() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Main);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Main)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      setting: {},\n      satInfo: {},\n      satList: [],\n      isLoadingList: false\n    };\n\n    _this.showNearbySatellite = function (setting) {\n      console.log(setting);\n\n      _this.setState({\n        setting: setting\n      });\n\n      _this.fetchSatellite(setting);\n    };\n\n    _this.fetchSatellite = function (setting) {\n      console.log(\"fetching\");\n      var latitude = setting.latitude,\n          longitude = setting.longitude,\n          elevation = setting.elevation,\n          altitude = setting.altitude;\n      var url = \"\".concat(BASE_URL, \"/\").concat(NEARBY_SATELLITE, \"/\").concat(latitude, \"/\").concat(longitude, \"/\").concat(elevation, \"/\").concat(altitude, \"/\").concat(STARLINK_CATEGORY, \"/&apiKey=\").concat(SAT_API_KEY);\n\n      _this.setState({\n        isLoadingList: true\n      });\n\n      axios.get(url).then(function (res) {\n        console.log(res);\n\n        if (res.status === 200) {\n          _this.setState({\n            satInfo: res.data,\n            isLoadingList: false\n          });\n        }\n      }).catch(function (err) {\n        console.log(\"err in fetching satellite: \", err.message);\n\n        _this.setState({\n          isLoadingList: false\n        });\n      });\n    };\n\n    _this.showMap = function (selected) {\n      _this.setState(function (pre) {\n        return _objectSpread({}, pre, {\n          satList: _toConsumableArray(selected)\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Main, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          satList = _this$state.satList,\n          setting = _this$state.setting,\n          satInfo = _this$state.satInfo,\n          isLoadingList = _this$state.isLoadingList;\n      return /*#__PURE__*/React.createElement(Row, {\n        className: \"main\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Col, {\n        span: 8,\n        className: \"left-side\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(SatSetting, {\n        onShow: this.showNearbySatellite,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(SatelliteList, {\n        satInfo: satInfo,\n        isLoad: isLoadingList,\n        onShowMap: this.showMap,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      })), /*#__PURE__*/React.createElement(Col, {\n        span: 16,\n        className: \"right-side\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(WorldMap, {\n        satData: satList,\n        observerData: setting,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return Main;\n}(Component);\n\nexport default Main;","map":{"version":3,"names":["React","Component","Row","Col","SatSetting","SatelliteList","WorldMap","axios","SAT_API_KEY","STARLINK_CATEGORY","NEARBY_SATELLITE","BASE_URL","Main","state","setting","satInfo","satList","isLoadingList","showNearbySatellite","console","log","setState","fetchSatellite","latitude","longitude","elevation","altitude","url","get","then","res","status","data","catch","err","message","showMap","selected","pre"],"sources":["/Users/liaoguochen/Desktop/Career/JAVA/SpaceX/starlink/src/components/Main.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport { Row, Col } from \"antd\";\nimport SatSetting from \"./SatSetting\";\nimport SatelliteList from \"./SatelliteList\";\nimport WorldMap from \"./WorldMap\";\nimport axios from \"axios\";\nimport {\n  SAT_API_KEY,\n  STARLINK_CATEGORY,\n  NEARBY_SATELLITE,\n  BASE_URL,\n} from \"../constants\";\n\nclass Main extends Component {\n  state = {\n    setting: {},\n    satInfo: {},\n    satList: [],\n    isLoadingList: false,\n  };\n\n  showNearbySatellite = (setting) => {\n    console.log(setting);\n    this.setState({ setting: setting });\n    this.fetchSatellite(setting);\n  };\n  fetchSatellite = (setting) => {\n    console.log(\"fetching\");\n    const { latitude, longitude, elevation, altitude } = setting;\n    const url = `${BASE_URL}/${NEARBY_SATELLITE}/${latitude}/${longitude}/${elevation}/${altitude}/${STARLINK_CATEGORY}/&apiKey=${SAT_API_KEY}`;\n    this.setState({ isLoadingList: true });\n\n    axios\n      .get(url)\n      .then((res) => {\n        console.log(res);\n        if (res.status === 200) {\n          this.setState({ satInfo: res.data, isLoadingList: false });\n        }\n      })\n      .catch((err) => {\n        console.log(\"err in fetching satellite: \", err.message);\n        this.setState({ isLoadingList: false });\n      });\n  };\n\n  showMap = (selected) => {\n      this.setState( pre => {\n          return {\n              ...pre,\n              satList: [...selected]\n          }\n      })\n  };\n\n  render() {\n    const { satList, setting, satInfo, isLoadingList } = this.state;\n    return (\n      <Row className=\"main\">\n        <Col span={8} className=\"left-side\">\n          <SatSetting onShow={this.showNearbySatellite} />\n          <SatelliteList\n            satInfo={satInfo}\n            isLoad={isLoadingList}\n            onShowMap={this.showMap}\n          />\n        </Col>\n        <Col span={16} className=\"right-side\">\n          <WorldMap satData={satList} observerData={setting}/>\n        </Col>\n      </Row>\n    );\n  }\n}\nexport default Main;\n"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,GAAd,QAAyB,MAAzB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SACEC,WADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,QAJF,QAKO,cALP;;IAOMC,I;;;;;;;;;;;;;;;UACJC,K,GAAQ;MACNC,OAAO,EAAE,EADH;MAENC,OAAO,EAAE,EAFH;MAGNC,OAAO,EAAE,EAHH;MAINC,aAAa,EAAE;IAJT,C;;UAORC,mB,GAAsB,UAACJ,OAAD,EAAa;MACjCK,OAAO,CAACC,GAAR,CAAYN,OAAZ;;MACA,MAAKO,QAAL,CAAc;QAAEP,OAAO,EAAEA;MAAX,CAAd;;MACA,MAAKQ,cAAL,CAAoBR,OAApB;IACD,C;;UACDQ,c,GAAiB,UAACR,OAAD,EAAa;MAC5BK,OAAO,CAACC,GAAR,CAAY,UAAZ;MAD4B,IAEpBG,QAFoB,GAEyBT,OAFzB,CAEpBS,QAFoB;MAAA,IAEVC,SAFU,GAEyBV,OAFzB,CAEVU,SAFU;MAAA,IAECC,SAFD,GAEyBX,OAFzB,CAECW,SAFD;MAAA,IAEYC,QAFZ,GAEyBZ,OAFzB,CAEYY,QAFZ;MAG5B,IAAMC,GAAG,aAAMhB,QAAN,cAAkBD,gBAAlB,cAAsCa,QAAtC,cAAkDC,SAAlD,cAA+DC,SAA/D,cAA4EC,QAA5E,cAAwFjB,iBAAxF,sBAAqHD,WAArH,CAAT;;MACA,MAAKa,QAAL,CAAc;QAAEJ,aAAa,EAAE;MAAjB,CAAd;;MAEAV,KAAK,CACFqB,GADH,CACOD,GADP,EAEGE,IAFH,CAEQ,UAACC,GAAD,EAAS;QACbX,OAAO,CAACC,GAAR,CAAYU,GAAZ;;QACA,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;UACtB,MAAKV,QAAL,CAAc;YAAEN,OAAO,EAAEe,GAAG,CAACE,IAAf;YAAqBf,aAAa,EAAE;UAApC,CAAd;QACD;MACF,CAPH,EAQGgB,KARH,CAQS,UAACC,GAAD,EAAS;QACdf,OAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2Cc,GAAG,CAACC,OAA/C;;QACA,MAAKd,QAAL,CAAc;UAAEJ,aAAa,EAAE;QAAjB,CAAd;MACD,CAXH;IAYD,C;;UAEDmB,O,GAAU,UAACC,QAAD,EAAc;MACpB,MAAKhB,QAAL,CAAe,UAAAiB,GAAG,EAAI;QAClB,yBACOA,GADP;UAEItB,OAAO,qBAAMqB,QAAN;QAFX;MAIH,CALD;IAMH,C;;;;;;;6BAEQ;MAAA,kBAC8C,KAAKxB,KADnD;MAAA,IACCG,OADD,eACCA,OADD;MAAA,IACUF,OADV,eACUA,OADV;MAAA,IACmBC,OADnB,eACmBA,OADnB;MAAA,IAC4BE,aAD5B,eAC4BA,aAD5B;MAEP,oBACE,oBAAC,GAAD;QAAK,SAAS,EAAC,MAAf;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE,oBAAC,GAAD;QAAK,IAAI,EAAE,CAAX;QAAc,SAAS,EAAC,WAAxB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE,oBAAC,UAAD;QAAY,MAAM,EAAE,KAAKC,mBAAzB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF,eAEE,oBAAC,aAAD;QACE,OAAO,EAAEH,OADX;QAEE,MAAM,EAAEE,aAFV;QAGE,SAAS,EAAE,KAAKmB,OAHlB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAFF,CADF,eASE,oBAAC,GAAD;QAAK,IAAI,EAAE,EAAX;QAAe,SAAS,EAAC,YAAzB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,gBACE,oBAAC,QAAD;QAAU,OAAO,EAAEpB,OAAnB;QAA4B,YAAY,EAAEF,OAA1C;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EADF,CATF,CADF;IAeD;;;;EA3DgBb,S;;AA6DnB,eAAeW,IAAf"},"metadata":{},"sourceType":"module"}