(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a.p+"static/media/spacex_logo.b9d88695.svg"},132:function(e,t,a){e.exports=a.p+"static/media/satellite.5dec5f6c.svg"},139:function(e,t,a){e.exports=a(252)},146:function(e,t,a){},252:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(125),s=a.n(r),l=(a(146),a(26)),o=a(27),c=a(32),u=a(17),m=a(31),d=a(126),p=a.n(d),h=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("header",{className:"App-header"},i.a.createElement("img",{src:p.a,className:"App-logo",alt:"logo"}),i.a.createElement("p",{className:"title"},"StarLink Tracker"))}}]),t}(n.Component),f=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement("footer",{className:"footer"},"\xa92022 StarLink Tracker. All Rights Reserved. Website Made by Guochen Liao")}}]),t}(n.Component),g=a(93),b=a(127),v=a(262),E=a(263),y=a(267),w=a(270),j=a(272),O=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).showSatellite=function(e){a.props.onShow(e)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return i.a.createElement(y.a,{name:"wrap",labelCol:{flex:"110px"},labelAlign:"left",labelWrap:!0,wrapperCol:{flex:1},colon:!1,className:"sat-setting",onFinish:this.showSatellite},i.a.createElement(y.a.Item,{label:"Longitude(degress)",name:"longitude",initialValue:70,rules:[{required:!0,message:"Please input your Longitude"}]},i.a.createElement(w.a,{min:-180,max:180,style:{width:"100%"},placeholder:"Please input Longitude"})),i.a.createElement(y.a.Item,{label:"Latitude(degrees)",name:"latitude",initialValue:-40,rules:[{required:!0,message:"Please input your Latitude"}]},i.a.createElement(w.a,{min:-90,max:90,style:{width:"100%"},placeholder:"Please input Latitude"})),i.a.createElement(y.a.Item,{label:"Elevation(meters)",name:"elevation",initialValue:100,rules:[{required:!0,message:"Please input your Elevation"}]},i.a.createElement(w.a,{min:-413,max:8850,style:{width:"100%"},placeholder:"Please input Elevation"})),i.a.createElement(y.a.Item,{label:"Altitude(degrees)",name:"altitude",initialValue:90,rules:[{required:!0,message:"Please input your Altitude"}]},i.a.createElement(w.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input Altitude"})),i.a.createElement(y.a.Item,{label:"Duration(mins)",name:"duration",initialValue:5,rules:[{required:!0,message:"Please input your Duration"}]},i.a.createElement(w.a,{min:0,max:90,style:{width:"100%"},placeholder:"Please input Duration"})),i.a.createElement(y.a.Item,{className:"show-nearby"},i.a.createElement(j.a,{type:"primary",htmlType:"submit",style:{textAlign:"center"}},"Find Satellite")))}}]),t}(n.Component),L=a(224),S=a(266),k=a(275),x=a(273),D=a(132),N=a.n(D),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={selected:[]},a.onChange=function(e){var t=e.target,n=t.dataInfo,i=t.checked,r=a.state.selected,s=a.addOrRemove(n,i,r);a.setState({selected:s})},a.addOrRemove=function(e,t,a){var n=a.some(function(t){return t.satid===e.satid});return!n&&t&&(a=[].concat(Object(g.a)(a),[e])),n&&!t&&(a=a.filter(function(t){return t.satid!==e.satid})),a},a.onShowSatMap=function(){a.props.onShowMap(a.state.selected)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this,t=this.props.satInfo?this.props.satInfo.above:[];return i.a.createElement("div",{className:"sat-list-box"},i.a.createElement("div",{className:"btn-container"},i.a.createElement(j.a,{className:"sat-list-btn",type:"primary",onClick:this.onShowSatMap,disabled:0===this.state.selected.length},"Track")),i.a.createElement("hr",null),this.props.isLoad?i.a.createElement(L.a,{tip:"loading",size:"large"}):i.a.createElement(S.b,{className:"sat-list",itemLayout:"horizontal",size:"small",dataSource:t,renderItem:function(t){return i.a.createElement(S.b.Item,{actions:[i.a.createElement(k.a,{dataInfo:t,onChange:e.onChange})]},i.a.createElement(S.b.Item.Meta,{avatar:i.a.createElement(x.a,{size:50,src:N.a}),title:i.a.createElement("p",null,t.satname),description:"Launch Date: ".concat(t.launchDate)}))}}))}}]),t}(n.Component),P=a(70),C=a.n(P),M=a(136),A=a(268),T=a(277),F=a(274),R=a(265),q=a(278),z=a(269),B=a(271),V="844XGL-F3YG55-4T9H3G-4WXK",W="52",G="rest/v1/satellite/above",H="",K=960,J=600,X=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).track=function(t){if(!t[0].hasOwnProperty("positions"))throw new Error("no position data");var a=t[0].positions.length,n=(e.props.observerData.duration,e.map.context2),i=new Date,r=0,s=setInterval(function(){var l=new Date,o=0===r?0:l-i,c=new Date(i.getTime()+100*o);if(n.clearRect(0,0,K,J),n.font="bold 14px sans-serif",n.fillStyle="#333",n.textAlign="center",n.fillText(Object(B.a)(c),K/2,10),r>=a)return clearInterval(s),e.setState({isDrawing:!1}),void(document.getElementsByClassName("hint")[0].innerHTML="");t.forEach(function(t){var a=t.info,n=t.positions;e.drawSat(a,n[r])}),r+=10},100)},e.drawSat=function(t,a){var n=a.satlongitude,i=a.satlatitude;if(n&&i){var r=t.satname.match(/\d+/g).join(""),s=e.map,l=s.projection,o=s.context2,c=l([n,i]);o.fillStyle=e.color(r),o.beginPath(),o.arc(c[0],c[1],4,0,2*Math.PI),o.fill(),o.font="bold 11px sans-serif",o.textAlign="center",o.fillText(r,c[0],c[1]+14)}},e.generateMap=function(t){var a=Object(A.a)().scale(170).translate([K/2,J/2]).precision(.1),n=Object(T.a)(),i=Object(R.a)(e.refMap.current).attr("width",K).attr("height",J),r=Object(R.a)(e.refTrack.current).attr("width",K).attr("height",J),s=i.node().getContext("2d"),l=r.node().getContext("2d"),o=Object(F.a)().projection(a).context(s);t.forEach(function(e){s.fillStyle="#B3DDEF",s.strokeStyle="#000",s.globalAlpha=.7,s.beginPath(),o(e),s.fill(),s.stroke(),s.strokeStyle="rgba(220, 220, 220, 0.1)",s.beginPath(),o(n()),s.lineWidth=.1,s.stroke(),s.beginPath(),s.lineWidth=.5,o(n.outline()),s.stroke()}),e.map={projection:a,graticule:n,context:s,context2:l}},e.state={isLoading:!1,isDrawing:!1},e.map=null,e.color=z.a(q.a),e.refMap=i.a.createRef(),e.refTrack=i.a.createRef(),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;C.a.get("https://unpkg.com/world-atlas@1/world/110m.json").then(function(t){var a=t.data,n=Object(M.a)(a,a.objects.countries).features;e.generateMap(n)}).catch(function(e){console.log("err in fetch map data ",e.message)})}},{key:"componentDidUpdate",value:function(e,t,a){var n=this;if(e.satData!==this.props.satData){var i=this.props.observerData,r=i.latitude,s=i.longitude,l=i.elevation,o=(i.altitude,60*i.duration);this.setState({isLoading:!0});var c=this.props.satData.map(function(e){var t=e.satid,a="/api/".concat("rest/v1/satellite/positions","/").concat(t,"/").concat(r,"/").concat(s,"/").concat(l,"/").concat(o,"/&apiKey=").concat(V);return C.a.get(a)});Promise.all(c).then(function(e){var a=e.map(function(e){return e.data});(n.setState({isLoading:!1,isDrawing:!0}),t.isDrawing)?document.getElementsByClassName("hint")[0].innerHTML="Please wait for these satellite animation to finish before selection new ones!":n.track(a)}).catch(function(e){console.log("err in fetch satellite position -> ",e.message)})}}},{key:"render",value:function(){var e=this.state.isLoading;return i.a.createElement("div",{className:"map-box"},e?i.a.createElement("div",{className:"spinner"},i.a.createElement(L.a,{tip:"Loading...",size:"large"})):null,i.a.createElement("canvas",{className:"map",ref:this.refMap}),i.a.createElement("canvas",{className:"track",ref:this.refTrack}),i.a.createElement("div",{className:"hint"}))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={setting:{},satInfo:{},satList:[],isLoadingList:!1},a.showNearbySatellite=function(e){console.log(e),a.setState({setting:e}),a.fetchSatellite(e)},a.fetchSatellite=function(e){console.log("fetching");var t=e.latitude,n=e.longitude,i=e.elevation,r=e.altitude,s="".concat(H,"/").concat(G,"/").concat(t,"/").concat(n,"/").concat(i,"/").concat(r,"/").concat(W,"/&apiKey=").concat(V);a.setState({isLoadingList:!0}),C.a.get(s).then(function(e){console.log(e),200===e.status&&a.setState({satInfo:e.data,isLoadingList:!1})}).catch(function(e){console.log("err in fetching satellite: ",e.message),a.setState({isLoadingList:!1})})},a.showMap=function(e){a.setState(function(t){return Object(b.a)({},t,{satList:Object(g.a)(e)})})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state,t=e.satList,a=e.setting,n=e.satInfo,r=e.isLoadingList;return i.a.createElement(v.a,{className:"main"},i.a.createElement(E.a,{span:8,className:"left-side"},i.a.createElement(O,{onShow:this.showNearbySatellite}),i.a.createElement(I,{satInfo:n,isLoad:r,onShowMap:this.showMap})),i.a.createElement(E.a,{span:16,className:"right-side"},i.a.createElement(X,{satData:t,observerData:a})))}}]),t}(n.Component);var Y=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(h,null),i.a.createElement(U,null),i.a.createElement(f,null))},_=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,264)).then(function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),r(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(Y,null)),_()}},[[139,3,2]]]);
//# sourceMappingURL=main.1c56303d.chunk.js.map